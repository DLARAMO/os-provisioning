<template id="greetings">
    <p class="mb-2" greetings>Sehr geehrter {{ contract.salutation }} {{ contract.lastname }}</p>
</template>
<template id="contract-info">
    <table class="max-w-fit mt-0" contract-info>
        <tbody>
            <tr>
                <th style="padding-left: 0;">Vertragsnummer:</th>
                <td>{{ contract.number }}</td>
            </tr>
            <tr>
                <th style="padding-left: 0;">Vertragsbeginn:</th>
                <td>{{ dayjs(contract.contract_start ?? undefined).format('D.M.YYYY') }}</td>
            </tr>
        </tbody>
    </table>
</template>
<style>
    logo>img {
        transform: scale(2) translateY(15%) translateX(-25%);
    }

</style>
<header>
    <template x-if="company.logo">
        <logo>
            <img :src="company.logo" />
        </logo>
    </template>
</header>
<letter>
    <row class="mt-2">
        <company class="[&>*]:border-b [&>*]:border-black" x-show="company">
            <span>{{ company.name }}</span>
            <span>{{ company.street }}</span>
            <span>{{ company.city }}</city>
        </company>
        <row class="flex-col gap-px text-xs [&>*]:whitespace-nowrap [&>*]:justify-end [&>*]:gap-2">
            <row><label>Tel</label>{{ company.phone }}</row>
            <row><label>Fax</label>{{ company.fax }}</row>
            <row><label>Mail</label>{{ company.mail }}</row>
            <row><label>Web</label>{{ company.web }}</row>
        </row>
    </row>
    <to>
        <row>{{ contract.company ?? '' }}</row>
        <row>{{ contract.department ?? '' }}</row>
        <row>{{ contract.academic_degree ?? '' }} {{ contract.firstname ?? '' }} {{ contract.lastname ?? '' }}</row>
        <row>{{ contract.district ?? '' }}</row>
        <row>{{ contract.zip ?? '' }} {{ contract.city ?? '' }}</row>
        <row>{{ contract.street ?? '' }} {{ contract.housenumber ?? '' }}</row>
    </to>
    <row>
        <subject class="inline-block font-bold text-2xl py-6">{{ meta.type }}</subject>
        <template x-if="meta.date">
            <date class="inline-flex">Dresden,&nbsp;{{ dayjs(meta.date).format('D.M.YYYY') }}</date>
        </template>
    </row>
    <span x-component:contract-info></span>
    <span x-component:greetings></span>

    <DocumentContent />

    <p class="mt-8">Freundliche Grüße</p>
    <p>{{ company.name }}</p>
</letter>
<footer>
    <row>
        <column>
            <strong>Registergericht:</strong>
            <div>{{ company.registration_court_1 }}</div>
        </column>
        <column>
            <strong>Geschäftsführer:</strong>
            <div>{{ company.management }}</div>
        </column>
        <column>
            <strong>Bankverbindung:</strong>
            <br />
            {{ sepaaccount.institute }}
            <br />
            <label>IBAN</label> {{ sepaaccount.iban }}
            <br />
            <label>BIC</label> {{ sepaaccount.bic }}
        </column>
        <column>
            <strong>Steuer:</strong>
            <br />
            <label>USt.-IdNr.</label> {{ company.tax_id_nr ?? '' }}
            <br />
            <label>Steuer-Nr.</label> {{ company.tax_nr ?? '' }}
        </column>
    </row>
</footer>
